!function(t){t.fn.sLimit=function(t){return new e(this,t).init()};var e=function(e,i){this.$element=e,this.defaults={max:0,tip:"",rule:"asc"},this.opts=t.extend({},this.defaults,i)};e.prototype={init:function(){var e=0,i=t.trim(this.$element.val()),s=this.getlen(i),n=this.opts,a=t(n.tip);switch(n.rule){case"desc":s<this.opts.max?e=this.opts.max-s:(e=0,this.$element.val(this.getmax(i)));break;case"asc":s<n.max?e=s:(e=n.max,this.$element.val(this.getmax(i)))}a&&a.text(e)},getlen:function(t){for(var e=0,i=/[\x00-\xff]+/,s=0;s<t.length;s++)e+=i.test(t.charAt(s))?1:2;return e=Math.ceil(e/2)},getmax:function(t){for(var e=0,i=/[\x00-\xff]+/,s="",n=0;n<t.length&&!((e+=i.test(t.charAt(n))?1:2)>2*this.opts.max);n++)s+=t[n];return s}}}(window.jQuery||window.Zepto);